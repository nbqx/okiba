(function(){"use strict";function t(){return 440*Math.pow(2,1*(this-69)/12)}function n(){for(var t=Array(this.length),n=t.length;n--;)t[n]=440*Math.pow(2,1*(this[n]-69)/12);return t}function r(){return 12*Math.log(1*Math.abs(this)/440)*Math.LOG2E+69}function e(){for(var t=Array(this.length),n=t.length;n--;)t[n]=12*Math.log(1*Math.abs(this[n])/440)*Math.LOG2E+69;return t}function i(){return Math.pow(2,1*this/12)}function s(){for(var t=Array(this.length),n=t.length;n--;)t[n]=Math.pow(2,1*this[n]/12);return t}function o(){return 12*Math.log(Math.abs(this))*Math.LOG2E}function u(){for(var t=Array(this.length),n=t.length;n--;)t[n]=12*Math.log(Math.abs(this[n]))*Math.LOG2E;return t}function h(){return 20*Math.log(this)*Math.LOG10E}function a(){return Math.pow(10,.05*this)}function f(){return 440*Math.pow(2,this-4.75)}function c(){return Math.log(1*Math.abs(this)/440)*Math.LOG2E+4.75}function l(t,n){return n>=t?t>this?t:n>this?this:n:l.call(this,n,t)}function p(t,n){if(n>=t){if(this>=t&&n>=this)return this;var r=n-t+1,e=(this-t)%r;return 0>e&&(e+=r),e+t}return p.call(this,n,t)}function y(t,n){if(n>=t){if(this>=t&&n>=this)return this;var r=n-t,e=r+r,i=(this-t)%e;return 0>i&&(i+=e),i>r&&(i=e-i),i+t}return y.call(this,n,t)}function g(t){return t=Math.abs(t),0===t?this:Math.floor(this/t)*t}function v(t,n){return this*t+n}function m(t,n){for(var r=Array(this.length),e=r.length;e--;)r[e]=this[e]*t+n;return r}function d(){return 0|this}function A(){for(var t=Array(this.length),n=t.length;n--;)t[n]=0|this[n];return t}function b(t,n){t=Math.max(0,0|t),n===void 0&&(n=0);var r,e=Array(t);if("function"==typeof n)for(r=0;t>r;++r)e[r]=n(r);else for(r=t;r--;)e[r]=n;return e}function w(t,n,r){t=Math.max(0,0|t),n="number"==typeof n?n:0,r="number"==typeof r?r:1;for(var e=Array(t),i=0,s=n;t>i;++i,s+=r)e[i]=s;return e}function M(t,n,r){t=Math.max(0,0|t),n="number"==typeof n?n:1,r="number"==typeof r?r:2;for(var e=Array(t),i=0,s=n;t>i;++i,s*=r)e[i]=s;return e}function _(t,n,r,e){t=Math.max(0,0|t),n="number"==typeof n?n:0,r="number"==typeof r?r:1;for(var i=Array(t),s=r-n,o=new Nn(e),u=t;u--;)i[u]=o.next()*s+n;return i}function x(t,n,r){return 0>n&&(n*=-1),_(t,-n,+n,r)}function O(t){return"number"==typeof t?this[0|t]:Array.isArray(t)?t.map(function(t){return O.call(this,t)}.bind(this)):void 0}function P(t){if("number"==typeof t)return this[l.call(0|t,0,this.length-1)];if(Array.isArray(t)){for(var n=Array(t.length),r=n.length;r--;)n[r]=this[l.call(0|t[r],0,this.length-1)];return n}}function T(t){if("number"==typeof t)return this[p.call(0|t,0,this.length-1)];if(Array.isArray(t)){for(var n=Array(t.length),r=n.length;r--;)n[r]=this[p.call(0|t[r],0,this.length-1)];return n}}function k(t){if("number"==typeof t)return this[y.call(0|t,0,this.length-1)];if(Array.isArray(t)){for(var n=Array(t.length),r=n.length;r--;)n[r]=this[y.call(0|t[r],0,this.length-1)];return n}}function E(){return this[0]}function R(){return this[this.length-1]}function I(t){return this.push(t),this}function L(t){for(var n=0,r=t.length;r>n;++n)this.push(t[n]);return this}function C(t,n){return t=Math.max(0,0|t),this.splice(t,0,n),this}function G(t){return t>=0?this.splice(0|t,1)[0]:void 0}function S(t){if(t|=0,t>=0&&this.length>t){var n=this[t],r=this.pop();return t!==this.length&&(this[t]=r),n}}function z(t){var n=this.indexOf(t);return-1!==n?this.splice(n,1)[0]:void 0}function N(t){var n=this.indexOf(t);return-1!==n?S.call(this,n):void 0}function j(t,n){if("number"==typeof t)t>=0&&this.length>t&&(this[0|t]=n);else if(Array.isArray(t))for(var r=t.length;r--;)j.call(this,t[r],n);return this}function q(t,n){if("number"==typeof t)this[l.call(t,0,this.length-1)]=n;else if(Array.isArray(t))for(var r=t.length;r--;)this[l.call(t[r],0,this.length-1)]=n;return this}function D(t,n){if("number"==typeof t)this[p.call(t,0,this.length-1)]=n;else if(Array.isArray(t))for(var r=t.length;r--;)this[p.call(t[r],0,this.length-1)]=n;return this}function F(t,n){if("number"==typeof t)this[y.call(t,0,this.length-1)]=n;else if(Array.isArray(t))for(var r=t.length;r--;)this[p.call(t[r],0,this.length-1)]=n;return this}function K(t){return this.length>0&&(this[0]=t),this}function U(t){return this.length>0&&(this[this.length-1]=t),this}function B(t,n){if(t>=0&&this.length>t&&n>=0&&this.length>n){var r=this[0|t];this[0|t]=this[0|n],this[0|n]=r}return this}function J(t,n){t=l.call(0|t,0,this.length-1),n=l.call(0|n,0,this.length-1);var r=this[t];return this[t]=this[n],this[n]=r,this}function H(t,n){t=p.call(0|t,0,this.length-1),n=p.call(0|n,0,this.length-1);var r=this[t];return this[t]=this[n],this[n]=r,this}function Q(t,n){t=y.call(0|t,0,this.length-1),n=y.call(0|n,0,this.length-1);var r=this[t];return this[t]=this[n],this[n]=r,this}function V(t){return-1!==this.indexOf(t)}function W(t){for(var n=0,r=this.length;r>n;++n)if(this[n]>t)return n;return-1}function X(t){var n=W.call(this,t);if(-1===n)return this.length-1;if(0===n)return n;var r=n-1;return t-this[r]<this[n]-t?r:n}function Y(t){var n=W.call(this,t);if(-1===n)return this.length-1;if(0===n)return n;var r=this[n-1],e=this[n],i=e-r;return 0===i?n:(t-r)/i+n-1}function Z(t,n){if(!Array.isArray(t))return-1;n=Math.max(0,0|n);for(var r=n,e=this.length;e>r;++r){for(var i=!0,s=0,o=t.length;o>s;s++)if(this[r+s]!==t[s]){i=!1;break}if(i)return r}return-1}function $(t,n){var r=[];if(!Array.isArray(t))return r;n=Math.max(0,0|n);for(var e=n,i=this.length;i>e;++e){for(var s=!0,o=0,u=t.length;u>o;++o)if(this[e+o]!==t[o]){s=!1;break}s&&r.push(e)}return r}function tn(t){for(var n=[],r=this.length;r--;)this[r]===t&&n.unshift(r);return n}function nn(t,n){return t=Math.max(0,0|t),n=Math.max(0,0|n),this.slice(t,n+1)}function rn(t){return t=Math.max(0,0|t),this.slice(t)}function en(t){return t=Math.max(0,0|t),this.slice(0,t+1)}function sn(t){return t|=0,0>t?this.slice(this.length+t,this.length):this.slice(0,t)}function on(t){return t|=0,0>t?this.slice(0,this.length+t):this.slice(t,this.length)}function un(){var t,n,r,e,i=this.slice(0),s=i.length;for(t=0,e=s;s-1>t;t++,e--)n=t+(0|Math.random()*e),r=i[t],i[t]=i[n],i[n]=r;return i}function hn(){var t=2*this.length-1;if(2>t)return this.slice(0);var n,r,e,i=Array(t);for(n=0,e=this.length;e>n;++n)i[n]=this[n];for(r=e-2,e=t;e>n;++n,--r)i[n]=this[r];return i}function an(){var t=2*this.length-2;if(2>t)return this.slice(0);var n,r,e,i=Array(t);for(n=0,e=this.length;e>n;++n)i[n]=this[n];for(r=e-2,e=t;e>n;++n,--r)i[n]=this[r];return i}function fn(){var t=2*this.length;if(2>t)return this.slice(0);var n,r,e,i=Array(t);for(n=0,e=this.length;e>n;++n)i[n]=this[n];for(r=e-1,e=t;e>n;++n,--r)i[n]=this[r];return i}function cn(t){t="number"!=typeof t?2:Math.max(0,0|t);for(var n=Array(this.length*t),r=0,e=0,i=this.length;i>r;++r)for(var s=0;t>s;++s,++e)n[e]=this[r];return n}function ln(t){t="number"!=typeof t?1:0|t;var n=Array(this.length),r=n.length;t%=r,0>t&&(t=r+t);for(var e=0,i=t;r>e;++e)n[i]=this[e],++i>=r&&(i=0);return n}function pn(t,n){t="number"!=typeof t?.25:t,n="number"!=typeof n?100:0|n;for(var r=[],e=0,i=0,s=this.length;s>e&&n>i;)r[i++]=this[e],Math.random()>t&&(e+=1);return r}function yn(t){t=Math.max(1,0|t);for(var n,r=Array(t),e=this.length,i=t;i--;)n=this[i%e],r[i]=Array.isArray(n)?n[(0|i/e)%n.length]:n;return r}function gn(t,n){t=Math.max(0,0|t);for(var r=Array(t),e=t;e--;)r[e]=this.length>e?this[e]:n;return r}function vn(t){if(t=Math.max(0,0|t),t>this.length){for(var n=Array(t),r=0,e=this.length;e>r;++r)n[r]=this[r];for(var i=n[r-1];t>r;++r)n[r]=i;return n}return this.slice(0,t)}function mn(t){t=Math.max(0,0|t);for(var n=Array(t),r=t;r--;)n[r]=this[r%this.length];return n}function dn(t){t=Math.max(0,0|t);for(var n=Array(t),r=t;r--;)n[r]=k.call(this,r);return n}function An(){return this[0|Math.random()*this.length]}function bn(t){for(var n=0,r=0,e=t.length;e>r;++r)if(n+=t[r],n>=Math.random())return this[r];return this[t.length-1]}function wn(t,n,r){"number"!=typeof n&&(n=12),"number"!=typeof r&&(r=0);var e=n*(0|t/this.length)+T.call(this,t);return 0===r?e:e+r*(n/12)}function Mn(t,n){"number"!=typeof n&&(n=12);var r=(0|t/n)*this.length,e=t%n;return Y.call(this,e)+r}function _n(t){return this[X.call(this,t)]}function xn(t,n){"number"!=typeof n&&(n=12);var r=g.call(t,n),e=t%n;return _n.call(this,e)+r}function On(){return this.length}function Pn(){return 0===this.length}function Tn(t){if(!Array.isArray(t)||this.length!==t.length)return!1;for(var n=this.length;n--;)if(Array.isArray(this[n])){if(!Tn.call(this[n],t[n]))return!1}else if(this[n]!==t[n])return!1;return!0}function kn(){this.count=0}function En(t,n,r){kn.call(this),n="number"==typeof n?n:1,r="number"==typeof r?r:0,this.list=t,this.repeats=1/0!==n?0|Math.max(0,n):1/0,this.offset=0|Math.max(0,r)}function Rn(t,n,r){En.call(this,t,n,r),this.repeats*=t.length}function In(t,n,r){En.call(this,t,n,0);var e=new Nn(r);this.list.sort(function(){return e.next()-.5})}function Ln(t,n,r){En.call(this,t,n,0);var e=new Nn(r);this._rand=e.next.bind(e)}function Cn(t,n,r){kn.call(this),t="number"==typeof t?t:0,r="number"==typeof r?r:1/0,this.start=t,this.value=this.start,this.step=n||1,this.length=1/0!==r?0|Math.max(0,r):1/0}function Gn(t,n,r){kn.call(this),t="number"==typeof t?t:0,r="number"==typeof r?r:1/0,this.start=t,this.value=this.start,this.grow=n||1,this.length=1/0!==r?0|Math.max(0,r):1/0}function Sn(t,n,r,e){Array.isArray(t)||(t=[0,2,4,5,7,9,11]),"number"!=typeof n&&(n=Sn.guessPPO(t));var i;"string"==typeof r&&(i=r,r=Dn.TuningInfo.at(r)),r instanceof Dn.Tuning||(r=Dn.Tuning["default"](n)),void 0===e&&(e=i),"string"!=typeof e&&(e="Unknown Scale"),this.name=e,this._degrees=t,this._pitchesPerOctave=n,this.tuning(r)}function zn(t,n,r){Array.isArray(t)||(t=[0,1,2,3,4,5,6,7,8,9,10,11]),"number"!=typeof n&&(n=2),"string"!=typeof r&&(r="Unknown Tuning"),this._tuning=t,this._octaveRatio=n,this.name=r}function Nn(t){"number"!=typeof t&&(t=+new Date);var n=t;n+=~(n<<15),n^=n>>>10,n+=n<<3,n^=n>>>6,n+=~(n<<11),n^=n>>>16,this.s1=1243598713^t,2>this.s1&&(this.s1=1243598713),this.s2=3093459404^t,8>this.s2&&(this.s2=3093459404),this.s3=1821928721^t,16>this.s3&&(this.s3=1821928721)}function jn(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t}function qn(t,n,r,e){if(void 0===e&&(e=function(){var t=[].slice.call(arguments);return this.map(function(n){return r.apply(n,t)})}),r!==Un&&e!==Un)switch(n){case 0:Dn[t]=function(t){return"number"==typeof t?r.call(t):Array.isArray(t)?e.call(t):void 0};break;case 1:Dn[t]=function(t,n){return"number"==typeof t?r.call(t,n):Array.isArray(t)?e.call(t,n):void 0};break;default:Dn[t]=function(t){var n=[].slice.call(arguments,1);return"number"==typeof t?r.apply(t,n):Array.isArray(t)?e.apply(t,n):void 0}}else if(e!==Un)switch(n){case 0:Dn[t]=function(t){return Array.isArray(t)?e.call(t):void 0};break;case 1:Dn[t]=function(t,n){return Array.isArray(t)?e.call(t,n):void 0};break;default:Dn[t]=function(t){return Array.isArray(t)?e.apply(t,[].slice.call(arguments,1)):void 0}}else if(r!==Un)switch(n){case 0:Dn[t]=function(t){return"number"==typeof t?r.call(t):void 0};break;case 1:Dn[t]=function(t,n){return"number"==typeof t?r.call(t,n):void 0};break;default:Dn[t]=function(t){return"number"==typeof t?r.apply(t,[].slice.call(arguments,1)):void 0}}Dn[t].use=function(){!Fn[t]&&r&&(Fn[t]=r),!Kn[t]&&e&&(Kn[t]=e)},Dn[t].unuse=function(){delete Fn[t],delete Kn[t]}}var Dn={},Fn=Number.prototype,Kn=Array.prototype,Un=null;Dn.use=function(t){for(var n in Dn)"function"==typeof Dn[n].use&&Dn[n].use(t)},Dn.unuse=function(t){for(var n in Dn)"function"==typeof Dn[n].unuse&&Dn[n].unuse(t)},qn("midicps",0,t,n),qn("cpsmidi",0,r,e),qn("midiratio",0,i,s),qn("ratiomidi",0,o,u),qn("ampdb",0,h),qn("dbamp",0,a),qn("octcps",0,f),qn("cpsoct",0,c),qn("clip",2,l),qn("wrap",2,p),qn("fold",2,y),qn("trunc",1,g),qn("mulAdd",2,v,m),qn("asInteger",0,d,A),Dn.fill=b,Dn.series=w,Dn.geom=M,Dn.rand=_,Dn.rand2=x,qn("at",1,Un,O),qn("clipAt",1,Un,P),qn("wrapAt",1,Un,T),qn("foldAt",1,Un,k),qn("first",0,Un,E),qn("last",0,Un,R),qn("add",1,Un,I),qn("addAll",1,Un,L),qn("insert",2,Un,C),qn("removeAt",1,Un,G),qn("takeAt",1,Un,S),qn("remove",1,Un,z),qn("take",1,Un,N),qn("put",2,Un,j),qn("clipPut",2,Un,q),qn("wrapPut",2,Un,D),qn("foldPut",2,Un,F),qn("putFirst",1,Un,K),qn("putLast",1,Un,U),qn("swap",2,Un,B),qn("clipSwap",2,Un,J),qn("wrapSwap",2,Un,H),qn("foldSwap",2,Un,Q),qn("includes",1,Un,V),qn("indexOfGreaterThan",1,Un,W),qn("indexIn",1,Un,X),qn("indexInBetween",1,Un,Y),qn("find",2,Un,Z),qn("findAll",2,Un,$),qn("indicesOfEqual",1,Un,tn),qn("copyRange",2,Un,nn),qn("copyToEnd",1,Un,rn),qn("copyFromStart",1,Un,en),qn("keep",1,Un,sn),qn("drop",1,Un,on),qn("scramble",0,Un,un),qn("mirror",0,Un,hn),qn("mirror1",0,Un,an),qn("mirror2",0,Un,fn),qn("stutter",1,Un,cn),qn("rotate",1,Un,ln),qn("sputter",2,Un,pn),qn("lace",1,Un,yn),qn("extend",2,Un,gn),qn("clipExtend",1,Un,vn),qn("wrapExtend",1,Un,mn),qn("foldExtend",1,Un,dn),qn("choose",0,Un,An),qn("wchoose",1,Un,bn),qn("performDegreeToKey",3,Un,wn),qn("performKeyToDegree",2,Un,Mn),qn("performNearestInList",1,Un,_n),qn("performNearestInScale",2,Un,xn),qn("size",0,Un,On),qn("isEmpty",0,Un,Pn),qn("equals",1,Un,Tn),kn.prototype.next=function(){return null},kn.prototype.valueOf=function(t){return"function"==typeof t.next?t.next():t},kn.prototype.reset=function(){this.count=0},jn(En,kn),En.prototype.next=function(){if(this.count>=this.repeats)return null;var t=(this.count+this.offset)%this.list.length,n=this.list[t],r=this.valueOf(n);return null!==r?("function"!=typeof n.next&&(this.count+=1),r):("function"==typeof n.reset&&n.reset(),this.count+=1,this.next())},Dn.Pser=En,jn(Rn,En),Dn.Pseq=Rn,jn(In,En),Dn.Pshuf=In,jn(Ln,kn),Ln.prototype.next=function(){if(this.count>=this.repeats)return null;var t=0|this._rand()*this.list.length,n=this.list[t],r=this.valueOf(n);return null!==r?("function"!=typeof n.next&&(this.count+=1),r):("function"==typeof n.reset&&n.reset(),this.count+=1,this.next())},Dn.Prand=Ln,jn(Cn,kn),Cn.prototype.next=function(){if(this.count<this.length){var t=this.valueOf(this.step);if(null!==t){var n=this.value;return this.value+=t,this.count+=1,n}}return null},Dn.Pseries=Cn,jn(Gn,kn),Gn.prototype.next=function(){if(this.count<this.length){var t=this.valueOf(this.grow);if(null!==t){var n=this.value;return this.value*=t,this.count+=1,n}}return null},Dn.Pgeom=Gn,Dn.Scale=Sn,Sn.prototype.tuning=function(t){return void 0===t?this._tuning:("string"==typeof t&&(t=Dn.TuningInfo.at(t)),t instanceof Dn.Tuning?this._pitchesPerOctave!==t.size()?(console.warn("Scale steps per octave "+this._pitchesPerOctave+" does not match tuning size "),void 0):(this._tuning=t,this._ratios=s.call(this.semitones()),t):(console.warn("The first argument must be instance of Tuning"),void 0))},Sn.prototype.semitones=function(){return this._degrees.map(this._tuning.wrapAt.bind(this._tuning))},Sn.prototype.cents=function(){return this.semitones().map(function(t){return 100*t})},Sn.prototype.ratios=function(){return this._ratios},Sn.prototype.size=function(){return this._degrees.length},Sn.prototype.pitchesPerOctave=function(){return this._pitchesPerOctave},Sn.prototype.stepsPerOctave=function(){return 12*Math.log(this.octaveRatio())*Math.LOG2E},Sn.prototype.at=function(t){return this._tuning.at(T.call(this._degrees,t))},Sn.prototype.wrapAt=function(t){return this._tuning.wrapAt(T.call(this._degrees,t))},Sn.prototype.degreeToFreq=function(t,n,r){return this.degreeToRatio(t,r)*n},Sn.prototype.degreeToRatio=function(t,n){return"number"!=typeof n&&(n=0),n+=0|t/this._degrees.length,T.call(this.ratios(),t)*Math.pow(this.octaveRatio(),n)},Sn.prototype.checkTuningForMismatch=function(t){return this._pitchesPerOctave===t.size()},Sn.prototype.degrees=function(){return this._degrees},Sn.prototype.guessPPO=function(){return Sn.guessPPO(this._degrees)},Sn.prototype.octaveRatio=function(){return this._tuning.octaveRatio()},Sn.prototype.performDegreeToKey=function(t,n,r){"number"!=typeof n&&(n=this.stepsPerOctave()),"number"!=typeof r&&(r=0);var e=this.wrapAt(t);return e+=n*(0|t/this.size()),0===r?e:e+r*(n/12)},Sn.prototype.performKeyToDegree=function(t,n){return"number"!=typeof n&&(n=12),Mn.call(this._degrees,t,n)},Sn.prototype.performNearestInList=function(t){return _n.call(this._degrees,t)},Sn.prototype.performNearestInScale=function(t,n){return"number"!=typeof n&&(n=12),xn.call(this._degrees,t,n)},Sn.prototype.equals=function(t){return Tn.call(this.degrees(),t.degrees())&&this._tuning.equals(t._tuning)},Sn.prototype.deepCopy=function(){return new Sn(this._degrees.slice(0),this._pitchesPerOctave,this._tuning.deepCopy(),this.name)},Sn.choose=function(t,n){return"number"!=typeof t&&(t=7),"number"!=typeof n&&(n=12),Bn.choose(function(r){return r._degrees.length===t&&r._pitchesPerOctave===n})},Sn.guessPPO=function(t){if(!Array.isArray(t))return 128;var n,r=t[0]||0;for(n=t.length;n--;)t[n]>r&&(r=t[n]);var e=[53,24,19,12];for(n=e.length;n--;)if(e[n]>r)return e[n];return 128};var Bn=Dn.ScaleInfo={},Jn={};Bn.choose=function(t){for(var n,r=[],e=Object.keys(Jn),i=e.length;i--;)n=Jn[e[i]],("function"!=typeof t||t(n))&&r.push(n);return n=r[0|Math.random()*r.length],n?n.deepCopy():void 0},Bn.at=function(t){var n=Jn[t];return n?n.deepCopy():void 0},Bn.names=function(){var t=Object.keys(Jn);return t.sort(),t},Bn.register=function(t,n){"string"==typeof t&&n instanceof Sn&&(Jn[t]=n,Sn[t]=function(t){return function(n){var r=Jn[t].deepCopy();return"string"==typeof n&&(n=Dn.TuningInfo.at(n)),n instanceof Dn.Tuning&&r.tuning(n),r}}(t))},Dn.Tuning=zn,zn.prototype.semitones=function(){return this._tuning.slice(0)},zn.prototype.cents=function(){return this._tuning.slice(0).map(function(t){return 100*t})},zn.prototype.ratios=function(){return s.call(this._tuning)},zn.prototype.at=function(t){return this._tuning[t]},zn.prototype.wrapAt=function(t){return T.call(this._tuning,t)},zn.prototype.octaveRatio=function(){return this._octaveRatio},zn.prototype.size=function(){return this._tuning.length},zn.prototype.stepsPerOctave=function(){return 12*Math.log(this._octaveRatio)*Math.LOG2E},zn.prototype.tuning=function(){return this._tuning},zn.prototype.equals=function(t){return this._octaveRatio===t._octaveRatio&&Tn.call(this._tuning,t._tuning)},zn.prototype.deepCopy=function(){return new zn(this._tuning.slice(0),this._octaveRatio,this.name)},zn.et=function(t){return"number"!=typeof t&&(t=12),new zn(zn.calcET(t),2,zn.etName(t))},zn.choose=function(t){return"number"!=typeof t&&(t=12),Hn.choose(function(n){return n.size()===t})},zn["default"]=function(t){return zn.et(t)},zn.calcET=function(t){for(var n=Array(t),r=n.length;r--;)n[r]=r*(12/t);return n},zn.etName=function(t){return"ET"+t};var Hn=Dn.TuningInfo={},Qn={};Hn.choose=function(t){for(var n,r=[],e=Object.keys(Qn),i=e.length;i--;)n=Qn[e[i]],("function"!=typeof t||t(n))&&r.push(n);return n=r[0|Math.random()*r.length],n?n.deepCopy():void 0},Hn.at=function(t){var n=Qn[t];return n?n.deepCopy():void 0},Hn.names=function(){var t=Object.keys(Qn);return t.sort(),t},Hn.register=function(t,n){"string"==typeof t&&n instanceof zn&&(Qn[t]=n,zn[t]=function(t){return function(){return Hn.at(t).deepCopy()}}(t))},Nn.prototype.trand=function(){return this.s1=(4294967294&this.s1)<<12^(this.s1<<13^this.s1)>>>19,this.s2=(4294967288&this.s2)<<4^(this.s2<<2^this.s2)>>>25,this.s3=(4294967280&this.s3)<<17^(this.s3<<3^this.s3)>>>11,this.s1^this.s2^this.s3};var Vn=new Uint32Array(1),Wn=new Float32Array(Vn.buffer);Nn.prototype.next=function(){return Vn[0]=1065353216|this.trand()>>>9,Wn[0]-1},Dn.RGen=Nn,Bn.register("major",new Sn([0,2,4,5,7,9,11],12,null,"Major")),Bn.register("minor",new Sn([0,2,3,5,7,8,10],12,null,"Natural Minor")),Hn.register("et12",new zn([0,1,2,3,4,5,6,7,8,9,10,11],2,"ET12")),Hn.register("just",new zn(u.call([1,16/15,9/8,1.2,5/4,4/3,45/32,1.5,1.6,5/3,1.8,15/8]),2,"Limit Just Intonation"));var Xn=Dn;"undefined"!=typeof module&&module.exports?module.exports=Xn:"undefined"!=typeof window&&(Xn.noConflict=function(){var t=window.subcollider,n=window.sc;return function(r){return window.sc===Xn&&(window.sc=n),r&&window.subcollider===Xn&&(window.subcollider=t),Xn}}(),window.subcollider=window.sc=Xn)})();